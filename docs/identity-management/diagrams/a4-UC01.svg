<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1399px" preserveAspectRatio="none" style="width:1164px;height:1399px;background:#FFFFFF;" version="1.1" viewBox="0 0 1164 1399" width="1164px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="1380.4266" style="stroke:#383838;stroke-width:1.0;" width="426" x="189.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="356.5" y="19.897">Ui Aggregator</text><rect fill="#FFFFFF" height="1286.3587" style="stroke:#383838;stroke-width:1.0;" width="10" x="18.5" y="97.0679"/><rect fill="#FFFFFF" height="1286.3587" style="stroke:#383838;stroke-width:1.0;" width="10" x="261.5" y="97.0679"/><rect fill="#FFFFFF" height="489.0023" style="stroke:#383838;stroke-width:1.0;" width="10" x="443.5" y="894.4243"/><rect fill="#FFFFFF" height="264.6481" style="stroke:#383838;stroke-width:1.0;" width="10" x="571.5" y="468.5401"/><rect fill="#FFFFFF" height="129.5301" style="stroke:#383838;stroke-width:1.0;" width="10" x="571.5" y="1007.2484"/><rect fill="#FFFFFF" height="157.5301" style="stroke:#383838;stroke-width:1.0;" width="10" x="692.5" y="247.598"/><rect fill="#FFFFFF" height="174.2361" style="stroke:#383838;stroke-width:1.0;" width="10" x="820" y="1168.4845"/><rect fill="#FFFFFF" height="138.8241" style="stroke:#383838;stroke-width:1.0;" width="10" x="982" y="500.2461"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="87.0679" y2="1392.4266"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="266.5" x2="266.5" y1="87.0679" y2="1392.4266"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="448" x2="448" y1="87.0679" y2="1392.4266"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="576.5" x2="576.5" y1="87.0679" y2="1392.4266"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="697.5" x2="697.5" y1="87.0679" y2="1392.4266"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="824.5" x2="824.5" y1="87.0679" y2="1392.4266"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="986.5" x2="986.5" y1="87.0679" y2="1392.4266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="82.9659">User</text><ellipse cx="23.5" cy="15" fill="#F8F8F8" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M23.5,23 L23.5,50 M10.5,31 L36.5,31 M23.5,50 L10.5,65 M23.5,50 L36.5,65 " fill="none" style="stroke:#383838;stroke-width:2.0;"/><rect fill="#F8F8F8" height="33.0679" style="stroke:#383838;stroke-width:1.5;" width="146" x="193.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="200.5" y="74.9659">Ui Aggregator Shell</text><rect fill="#F8F8F8" height="33.0679" style="stroke:#383838;stroke-width:1.5;" width="87" x="405" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="412" y="74.9659">X Frontend</text><rect fill="#F8F8F8" height="33.0679" style="stroke:#383838;stroke-width:1.5;" width="70" x="541.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="548.5" y="74.9659">Auth Lib</text><rect fill="#F8F8F8" height="52.1358" style="stroke:#383838;stroke-width:1.5;" width="152" x="621.5" y="33.9321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="670" y="55.898">External</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="628.5" y="74.9659">Authorization Server</text><rect fill="#F8F8F8" height="33.0679" style="stroke:#383838;stroke-width:1.5;" width="83" x="783.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="790.5" y="74.9659">X Backend</text><rect fill="#F8F8F8" height="33.0679" style="stroke:#383838;stroke-width:1.5;" width="221" x="876.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="883.5" y="74.9659">Identity Management Backend</text><rect fill="#FFFFFF" height="1286.3587" style="stroke:#383838;stroke-width:1.0;" width="10" x="18.5" y="97.0679"/><rect fill="#FFFFFF" height="1286.3587" style="stroke:#383838;stroke-width:1.0;" width="10" x="261.5" y="97.0679"/><rect fill="#FFFFFF" height="489.0023" style="stroke:#383838;stroke-width:1.0;" width="10" x="443.5" y="894.4243"/><rect fill="#FFFFFF" height="264.6481" style="stroke:#383838;stroke-width:1.0;" width="10" x="571.5" y="468.5401"/><rect fill="#FFFFFF" height="129.5301" style="stroke:#383838;stroke-width:1.0;" width="10" x="571.5" y="1007.2484"/><rect fill="#FFFFFF" height="157.5301" style="stroke:#383838;stroke-width:1.0;" width="10" x="692.5" y="247.598"/><rect fill="#FFFFFF" height="174.2361" style="stroke:#383838;stroke-width:1.0;" width="10" x="820" y="1168.4845"/><rect fill="#FFFFFF" height="138.8241" style="stroke:#383838;stroke-width:1.0;" width="10" x="982" y="500.2461"/><polygon fill="#383838" points="249.5,116.7739,259.5,120.7739,249.5,124.7739" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="28.5" x2="255.5" y1="120.7739" y2="120.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="77.5" y="114.9649">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="88.5" y="114.9649">Accesses the website</text><polygon fill="#383838" points="39.5,148.4799,29.5,152.4799,39.5,156.4799" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="260.5" y1="152.4799" y2="152.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="69" y="146.6709">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="80" y="146.6709">Presents a login section</text><polygon fill="#383838" points="249.5,180.186,259.5,184.186,249.5,188.186" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="28.5" x2="255.5" y1="184.186" y2="184.186"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="75" y="178.377">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="86" y="178.377">Picks the login option</text><polygon fill="#383838" points="39.5,211.892,29.5,215.892,39.5,219.892" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="260.5" y1="215.892" y2="215.892"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="40.5" y="210.083">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="51.5" y="210.083">Redirects to external auth service</text><polygon fill="#383838" points="680.5,243.598,690.5,247.598,680.5,251.598" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="28.5" x2="686.5" y1="247.598" y2="247.598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="265.5" y="241.789">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="276.5" y="241.789">Accesses external auth service</text><polygon fill="#383838" points="39.5,275.304,29.5,279.304,39.5,283.304" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="691.5" y1="279.304" y2="279.304"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="267" y="273.495">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="278" y="273.495">Presents sign in/sign up page</text><polygon fill="#383838" points="680.5,307.01,690.5,311.01,680.5,315.01" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="28.5" x2="686.5" y1="311.01" y2="311.01"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="282" y="305.201">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="293" y="305.201">Performs sign ip/sign up</text><line style="stroke:#383838;stroke-width:1.0;" x1="702.5" x2="744.5" y1="360.4221" y2="360.4221"/><line style="stroke:#383838;stroke-width:1.0;" x1="744.5" x2="744.5" y1="360.4221" y2="373.4221"/><line style="stroke:#383838;stroke-width:1.0;" x1="703.5" x2="744.5" y1="373.4221" y2="373.4221"/><polygon fill="#383838" points="713.5,369.4221,703.5,373.4221,713.5,377.4221" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="709.5" y="345.7601">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="720.5" y="336.907">Authenticates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="720.5" y="354.6131">user via OIDC</text><polygon fill="#383838" points="39.5,401.1281,29.5,405.1281,39.5,409.1281" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="33.5" x2="696.5" y1="405.1281" y2="405.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="227.5" y="399.3191">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="238.5" y="399.3191">Redirect to registered callback with id token</text><polygon fill="#383838" points="249.5,432.8341,259.5,436.8341,249.5,440.8341" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="28.5" x2="255.5" y1="436.8341" y2="436.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="53" y="431.0251">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="71" y="431.0251">Accesses registered callback</text><polygon fill="#383838" points="559.5,464.5401,569.5,468.5401,559.5,472.5401" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="271.5" x2="565.5" y1="468.5401" y2="468.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="356" y="462.7311">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="374" y="462.7311">Stores the id token</text><polygon fill="#383838" points="970,496.2461,980,500.2461,970,504.2461" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="581.5" x2="976" y1="500.2461" y2="500.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="669.75" y="494.4371">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="687.75" y="494.4371">Requests access token for id token</text><line style="stroke:#383838;stroke-width:1.0;" x1="992" x2="1034" y1="531.9521" y2="531.9521"/><line style="stroke:#383838;stroke-width:1.0;" x1="1034" x2="1034" y1="531.9521" y2="544.9521"/><line style="stroke:#383838;stroke-width:1.0;" x1="993" x2="1034" y1="544.9521" y2="544.9521"/><polygon fill="#383838" points="1003,540.9521,993,544.9521,1003,548.9521" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="999" y="526.1431">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="1017" y="526.1431">Generates access token</text><line style="stroke:#383838;stroke-width:1.0;" x1="992" x2="1034" y1="594.3642" y2="594.3642"/><line style="stroke:#383838;stroke-width:1.0;" x1="1034" x2="1034" y1="594.3642" y2="607.3642"/><line style="stroke:#383838;stroke-width:1.0;" x1="993" x2="1034" y1="607.3642" y2="607.3642"/><polygon fill="#383838" points="1003,603.3642,993,607.3642,1003,611.3642" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="999" y="579.7022">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="1017" y="570.8492">Adds registered</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1017" y="588.5552">user permissions</text><polygon fill="#383838" points="592.5,635.0702,582.5,639.0702,592.5,643.0702" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="586.5" x2="986" y1="639.0702" y2="639.0702"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="698.25" y="633.2612">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="716.25" y="633.2612">Provides the access token</text><line style="stroke:#383838;stroke-width:1.0;" x1="581.5" x2="623.5" y1="688.4822" y2="688.4822"/><line style="stroke:#383838;stroke-width:1.0;" x1="623.5" x2="623.5" y1="688.4822" y2="701.4822"/><line style="stroke:#383838;stroke-width:1.0;" x1="582.5" x2="623.5" y1="701.4822" y2="701.4822"/><polygon fill="#383838" points="592.5,697.4822,582.5,701.4822,592.5,705.4822" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="588.5" y="673.8202">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="606.5" y="664.9672">Stores the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="606.5" y="682.6732">access token</text><polygon fill="#383838" points="282.5,729.1882,272.5,733.1882,282.5,737.1882" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="276.5" x2="575.5" y1="733.1882" y2="733.1882"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="289" y="727.3792">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="307" y="727.3792">Notifies that a new access token is present</text><line style="stroke:#383838;stroke-width:1.0;" x1="271.5" x2="313.5" y1="800.3063" y2="800.3063"/><line style="stroke:#383838;stroke-width:1.0;" x1="313.5" x2="313.5" y1="800.3063" y2="813.3063"/><line style="stroke:#383838;stroke-width:1.0;" x1="272.5" x2="313.5" y1="813.3063" y2="813.3063"/><polygon fill="#383838" points="282.5,809.3063,272.5,813.3063,282.5,817.3063" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="278.5" y="776.7913">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="296.5" y="759.0853">Checks what Frontends</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="296.5" y="776.7913">the access token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="296.5" y="794.4973">gives access to</text><polygon fill="#383838" points="39.5,858.7183,29.5,862.7183,39.5,866.7183" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="260.5" y1="862.7183" y2="862.7183"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="53" y="848.0563">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="71" y="839.2033">Presents the Auth Frontend</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="107.5" y="856.9093">and X Frontend</text><polygon fill="#383838" points="431.5,890.4243,441.5,894.4243,431.5,898.4243" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="28.5" x2="437.5" y1="894.4243" y2="894.4243"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="139.5" y="888.6153">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="157.5" y="888.6153">Accessses the service window</text><polygon fill="#383838" points="39.5,922.1304,29.5,926.1304,39.5,930.1304" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="442.5" y1="926.1304" y2="926.1304"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="113.5" y="920.3214">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="131.5" y="920.3214">Presents X interaction with the service</text><polygon fill="#383838" points="431.5,953.8364,441.5,957.8364,431.5,961.8364" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="28.5" x2="437.5" y1="957.8364" y2="957.8364"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="172.5" y="952.0274">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="190.5" y="952.0274">Picks X interaction</text><polygon fill="#383838" points="559.5,1003.2484,569.5,1007.2484,559.5,1011.2484" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="453.5" x2="565.5" y1="1007.2484" y2="1007.2484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="464.5" y="992.5864">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="482.5" y="983.7334">Requests the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="483.5" y="1001.4394">access token</text><line style="stroke:#383838;stroke-width:1.0;" x1="581.5" x2="623.5" y1="1074.3665" y2="1074.3665"/><line style="stroke:#383838;stroke-width:1.0;" x1="623.5" x2="623.5" y1="1074.3665" y2="1087.3665"/><line style="stroke:#383838;stroke-width:1.0;" x1="582.5" x2="623.5" y1="1087.3665" y2="1087.3665"/><polygon fill="#383838" points="592.5,1083.3665,582.5,1087.3665,592.5,1091.3665" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="588.5" y="1050.8514">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="606.5" y="1033.1454">Verifies if the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="606.5" y="1050.8514">access token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="606.5" y="1068.5575">is still valid</text><polygon fill="#383838" points="464.5,1132.7785,454.5,1136.7785,464.5,1140.7785" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="458.5" x2="575.5" y1="1136.7785" y2="1136.7785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="468" y="1122.1165">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="486.5" y="1113.2635">Provides the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="486" y="1130.9695">access token</text><polygon fill="#383838" points="808,1164.4845,818,1168.4845,808,1172.4845" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="453.5" x2="814" y1="1168.4845" y2="1168.4845"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="509.25" y="1162.6755">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="527.25" y="1162.6755">Requests infromation with access token</text><line style="stroke:#383838;stroke-width:1.0;" x1="830" x2="872" y1="1217.8965" y2="1217.8965"/><line style="stroke:#383838;stroke-width:1.0;" x1="872" x2="872" y1="1217.8965" y2="1230.8965"/><line style="stroke:#383838;stroke-width:1.0;" x1="831" x2="872" y1="1230.8965" y2="1230.8965"/><polygon fill="#383838" points="841,1226.8965,831,1230.8965,841,1234.8965" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="837" y="1203.2345">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="855" y="1194.3815">Verifies if the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="855" y="1212.0875">token is valid</text><line style="stroke:#383838;stroke-width:1.0;" x1="830" x2="872" y1="1298.0146" y2="1298.0146"/><line style="stroke:#383838;stroke-width:1.0;" x1="872" x2="872" y1="1298.0146" y2="1311.0146"/><line style="stroke:#383838;stroke-width:1.0;" x1="831" x2="872" y1="1311.0146" y2="1311.0146"/><polygon fill="#383838" points="841,1307.0146,831,1311.0146,841,1315.0146" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="837" y="1274.4996">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="855" y="1256.7936">Verifies if the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="855" y="1274.4996">user has the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="855" y="1292.2056">needed permissions</text><polygon fill="#383838" points="464.5,1338.7206,454.5,1342.7206,464.5,1346.7206" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="458.5" x2="824" y1="1342.7206" y2="1342.7206"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="555.75" y="1336.9116">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="573.75" y="1336.9116">Provides the information</text><polygon fill="#383838" points="39.5,1370.4266,29.5,1374.4266,39.5,1378.4266" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="442.5" y1="1374.4266" y2="1374.4266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="152.5" y="1368.6176">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="170.5" y="1368.6176">Provides the information</text><!--MD5=[bf89590cecb40ce64e6ea495a0952c0d]
@startuml a4-UC01

skinparam Monochrome true
skinparam sequenceMessageAlign center
skinparam style strictuml
autonumber 1

actor User
box "Ui Aggregator"
participant "Ui Aggregator Shell" as AGGRE
participant "X Frontend" as XFRONT
participant "Auth Lib" as AUTHLIB
end box
participant "External\nAuthorization Server" as AUTHSERVER
participant "X Backend" as XBACK
participant "Identity Management Backend" as AUTHBACK

activate AGGRE
activate User

User -> AGGRE: Accesses the website
AGGRE - -> User: Presents a login section
User -> AGGRE: Picks the login option
AGGRE - -> User: Redirects to external auth service
User -> AUTHSERVER: Accesses external auth service
activate AUTHSERVER
AUTHSERVER - -> User: Presents sign in/sign up page
User -> AUTHSERVER: Performs sign ip/sign up
AUTHSERVER -> AUTHSERVER: Authenticates\nuser via OIDC
AUTHSERVER -> User: Redirect to registered callback with id token
deactivate AUTHSERVER
User -> AGGRE: Accesses registered callback
AGGRE -> AUTHLIB: Stores the id token
activate AUTHLIB
AUTHLIB -> AUTHBACK: Requests access token for id token
activate AUTHBACK
AUTHBACK -> AUTHBACK: Generates access token
AUTHBACK -> AUTHBACK: Adds registered\nuser permissions
AUTHBACK - -> AUTHLIB: Provides the access token
deactivate AUTHBACK
AUTHLIB -> AUTHLIB: Stores the\naccess token
AUTHLIB -> AGGRE: Notifies that a new access token is present
deactivate AUTHLIB
AGGRE -> AGGRE: Checks what Frontends\nthe access token\ngives access to
AGGRE - -> User: Presents the Auth Frontend\nand X Frontend
User -> XFRONT: Accessses the service window
activate XFRONT
XFRONT - -> User: Presents X interaction with the service
User -> XFRONT: Picks X interaction
XFRONT -> AUTHLIB: Requests the\naccess token
activate AUTHLIB
AUTHLIB -> AUTHLIB: Verifies if the\naccess token\nis still valid
AUTHLIB - -> XFRONT: Provides the\naccess token
deactivate AUTHLIB
XFRONT -> XBACK: Requests infromation with access token
activate XBACK
XBACK -> XBACK: Verifies if the\ntoken is valid
XBACK -> XBACK: Verifies if the\nuser has the\nneeded permissions
XBACK - -> XFRONT: Provides the information
deactivate XBACK
XFRONT - -> User: Provides the information
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 WET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>