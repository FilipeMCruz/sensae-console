<p>
  <mat-form-field class="medium-input">
    <mat-label>Device Type</mat-label>
    <input
      [disabled]="dataTransformationView === dataTransformationViewType.Compare"
      [(ngModel)]="dataTransformation.data.type"
      matInput
    />
    <mat-hint>e.g. LGT 92</mat-hint>
  </mat-form-field>
  <ng-container
    *ngIf="dataTransformationView === dataTransformationViewType.Edit"
  >
    <button
      class="to-right"
      mat-stroked-button
      (click)="deleteDataTransformation()"
    >
      Delete
    </button>
  </ng-container>
  <br />
  <ng-container
    *ngIf="dataTransformationView === dataTransformationViewType.New"
  >
    <button
      [disabled]="!dataTransformation.isValid()"
      class="to-right"
      mat-stroked-button
      (click)="saveDataTransformation()"
    >
      Save
    </button>
  </ng-container>
  <ng-container
    *ngIf="dataTransformationView === dataTransformationViewType.Edit"
  >
    <button
      [disabled]="!dataTransformation.isValid()"
      class="to-right"
      mat-stroked-button
      (click)="saveDataTransformation()"
    >
      Update
    </button>
  </ng-container>
</p>
<div>
  Property Transformations:
  <div *ngIf="entryView === entryViewType.List">
    <mat-list>
      <mat-list-item
        class="item-list"
        *ngFor="let entry of dataTransformation.entries; let i = index"
      >
        <mat-icon (click)="editEntry(i)" mat-list-icon>{{
          getNameType(entry)
        }}</mat-icon>
        <div mat-line>{{ entry.newPath }}</div>
        <div mat-line>{{ entry.oldPath }}</div>
        <button
          *ngIf="dataTransformationView !== dataTransformationViewType.Compare"
          mat-icon-button
          (click)="removeEntry($event, i)"
        >
          <mat-icon>delete</mat-icon>
        </button>
      </mat-list-item>
    </mat-list>
    <br />
    <button
      *ngIf="dataTransformationView !== dataTransformationViewType.Compare"
      mat-stroked-button
      (click)="entryView = entryViewType.New"
    >
      New Entry
    </button>
  </div>
  <div *ngIf="entryView !== entryViewType.List">
    <br />
    <mat-form-field class="medium-input">
      <mat-label>Property Name</mat-label>
      <mat-icon matSuffix>label</mat-icon>
      <mat-select [(ngModel)]="currentEntry.newPath">
        <mat-option *ngFor="let option of propertyNameTypes" [value]="option">
          {{ option }}
        </mat-option>
      </mat-select>
      <mat-hint>Pick One</mat-hint>
    </mat-form-field>
    <mat-form-field class="big-input">
      <mat-label>Path to Property</mat-label>
      <input matInput [(ngModel)]="currentEntry.oldPath" />
      <mat-icon matSuffix>info</mat-icon>
      <mat-hint>data.payload.lat</mat-hint>
    </mat-form-field>
    <br />
    <br />
    <button
      *ngIf="entryView === entryViewType.New"
      mat-stroked-button
      color="primary"
      (click)="addEntry()"
    >
      Add Record Entry
    </button>
    <button
      *ngIf="entryView === entryViewType.Edit"
      mat-stroked-button
      color="primary"
      (click)="saveEntryEdit()"
    >
      Save Changes
    </button>
    <button
      class="to-right"
      mat-stroked-button
      (click)="entryView = entryViewType.List"
    >
      Back
    </button>
  </div>
</div>
